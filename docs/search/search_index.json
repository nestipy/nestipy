{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Overview","text":"<p>Nestipy is a Python framework built on top of Litestar or FastAPI hat follows the modular architecture of NestJS. It is designed to help structure your APIs  in an intuitive, easy to understand, and enjoyable way.</p> <p>With Nestipy, you can build scalable and maintainable APIs with ease. The framework supports dependency injection, type annotations, decorators, and code generation, making it easy to write clean and testable code.</p> <p>This framework is not a direct port of NestJS to Python but rather a re-imagining of the framework specifically for Python developers, including data scientists, data analysts, and data engineers. It aims to assist them in building better and faster APIs for their data applications.</p> <p>Nestipy support Graphql by using strawberry.</p>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#modular-architecture","title":"Modular Architecture","text":"<p>Nestipy follows the modular architecture of NestJS, which allows for easy separation of concerns and code organization. Each module contains a collection of related controllers, services, and providers.</p>"},{"location":"#dependency-injection","title":"Dependency Injection","text":"<p>Nestipy supports dependency injection, which makes it easy to manage dependencies and write testable code. You can easily inject services and providers into your controllers using decorators.</p>"},{"location":"#decorators","title":"Decorators","text":"<p>Nestipy makes extensive use of decorators to define routes, middleware, and other application components. This helps keep the code concise and easy to read.</p>"},{"location":"#type-annotations","title":"Type Annotations","text":"<p>Nestipy leverages Python's type annotations to provide better tooling and help prevent errors. You can annotate your controllers, services, and providers with types to make your code more robust.</p>"},{"location":"#dynamic-module","title":"Dynamic module","text":"<p>Nestipy includes a dynamic module option that allow to create dynamic module that can access IOC container.</p>"},{"location":"#code-generation","title":"Code Generation","text":"<p>Nestipy includes a code generation tool that can create boilerplate code for modules, controllers, and other components. This saves you time and helps you focus on writing the code that matters.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions are welcome! Please feel free to submit a Pull Request.</p>"},{"location":"#credits","title":"Credits","text":"<p>NestJS, a framework for building Node.js applications.</p> <p>Litestar, a framework for effortlessly build performant APIs.</p> <p>FastAPI, a framework for building Python applications.</p>"},{"location":"start/","title":"Blank Application with Nestipy","text":""},{"location":"start/#introduction","title":"Introduction","text":"<p>This documentation introduces a creation of the simplest Nestipy Application.</p>"},{"location":"start/#requirements","title":"Requirements","text":"<ul> <li>Python 3.10+</li> <li>Nestipy (latest version)</li> </ul>"},{"location":"start/#setting-up","title":"Setting Up","text":""},{"location":"start/#installation-and-setup","title":"Installation and Setup","text":"<p>All you need to getting started is to install only nestipy, you can achieve this by running the following command using pip</p> <pre><code>pip install nestipy\n</code></pre>"},{"location":"start/#start-with-cli","title":"Start with cli","text":""},{"location":"start/#create-a-new-project","title":"Create a new project","text":"<pre><code>nestipy new my_app\n</code></pre> <p>This command will create a new project with the following structure:</p> <pre><code>\u251c\u2500\u2500 app_module.py\n\u251c\u2500\u2500 app_controller.py\n\u251c\u2500\u2500 app_service.py\n\u251c\u2500\u2500 main.py\n|\u2500\u2500 requirements.txt\n|\u2500\u2500 README.md\n\u251c\u2500\u2500 src\n\u2502    \u251c\u2500\u2500 __init__.py\n</code></pre> <p>After creating the project, to start serve, run the following command inside the project directory:</p> <p><pre><code>python main.py\n</code></pre> Now you can access the application at http://localhost:8000/schema/swagger for Litestar, http://localhost:8000/docs for Fastapi and test the endpoints.</p> <p>Let's go over the boilerplate code that generated by the cli:</p> <p><code>app_module.py</code></p> <pre><code>from nestipy.common.decorator import Module\nfrom .app_controller import AppController\nfrom .app_service import AppService\n\n\n@Module(\n    controllers=[AppController],\n    providers=[AppService]\n)\nclass AppModule:\n    pass\n</code></pre> <p><code>app_controller.py</code></p> <pre><code>from nestipy.common.decorator import Controller, Get, Inject, Post, Put, Delete\nfrom .app_service import AppService\n\n\n@Controller()\nclass AppController:\n    service: AppService = Inject(AppService)\n\n    @Get()\n    async def get(self) -&gt; str:\n        return await self.service.get()\n\n    @Post()\n    async def post(self, data: str) -&gt; str:\n        return await self.service.post(data=data)\n\n    @Put('/{user_id}')\n    async def put(self, user_id: int, data: str) -&gt; str:\n        return await self.service.put(id_=user_id, data=data)\n\n    @Delete('/{user_id}')\n    async def delete(self, user_id: int) -&gt; None:\n        await self.service.delete(id_=user_id)\n</code></pre> <p><code>app_service.py</code></p> <pre><code>from nestipy.common.decorator import Injectable\n\n\n@Injectable()\nclass AppService:\n\n    @classmethod\n    async def get(cls):\n        return \"test\"\n\n    @classmethod\n    async def post(cls, data: str):\n        return \"test\"\n\n    @classmethod\n    async def put(cls, id_: int, data: str):\n        return \"test\"\n\n    @classmethod\n    async def delete(cls, id_: int):\n        return \"test\"\n</code></pre> <p><code>main.py</code></p> <pre><code>import uvicorn\n\nfrom .app_module import AppModule\nfrom nestipy.core.factory import NestipyFactory\n# from nestipy.core.platform import PlatformFastAPI\n\nfrom nestipy.core.platform import PlatformLitestar\n\n# app = NestipyFactory[PlatformFastAPI].create(AppModule, title=\"My FastAPI App\")\napp = NestipyFactory[PlatformLitestar].create(AppModule, title=\"My App\")\n\nif __name__ == '__main__':\n    uvicorn.run('main:app', host=\"0.0.0.0\", port=8000, reload=True)\n</code></pre>"},{"location":"start/#creating-new-resource","title":"Creating new resource","text":"<p>After creating the project, let's create a new resource:</p> <pre><code>pynest g resource user\n-&gt; api\n-&gt; graphql\n</code></pre> <p>By choosing api, we have generated new folder inside src</p> <pre><code>\u251c\u2500\u2500 user\n\u2502    \u251c\u2500\u2500 __init__.py\n\u2502    \u251c\u2500\u2500 user_controller.py\n\u2502    \u251c\u2500\u2500 user_service.py\n\u2502    \u251c\u2500\u2500 user_dto.py\n\u2502    \u251c\u2500\u2500 user_module.py\n</code></pre> <p>By choosing graphql, we have resolver instead of controller, like the following</p> <pre><code>\u251c\u2500\u2500 user\n\u2502    \u251c\u2500\u2500 __init__.py\n\u2502    \u251c\u2500\u2500 user_resolver.py\n\u2502    \u251c\u2500\u2500 user_service.py\n\u2502    \u251c\u2500\u2500 user_input.py\n\u2502    \u251c\u2500\u2500 user_module.py\n</code></pre> <p>By using graphql, dont forget to register strawberry module from nestipy plugin inside app_module imports.</p> <pre><code>...\nfrom nestipy.plugins.strawberry_module.strawberry_module import StrawberryModule, StrawberryOption\n\n...\n\n\n@Module(\n    imports=[\n        ...\n        StrawberryModule.for_root(\n            resolvers=[UserModule],\n            option=StrawberryOption(graphql_ide='graphiql')\n        ),\n        ...\n    ],\n)\nclass AppModule:\n    pass\n</code></pre>"},{"location":"start/#creating-new-module","title":"Creating new module","text":"<p>With nestipy we can create a module by running the following command</p> <pre><code>nestipy g module exemple\n</code></pre> <p>This command will create a new directory exemple inside src and update app_module imports to import this new module.</p> <pre><code>\u251c\u2500\u2500 exemple\n\u2502    \u251c\u2500\u2500 __init__.py\n\u2502    \u251c\u2500\u2500 exemple_module.py\n</code></pre> <p>So inside, we got,</p> <p><code>exemple_module.py</code></p> <pre><code>from nestipy.common.decorator import Module\nfrom nestipy.common.decorator import Module\n\n\n@Module()\nclass ExempleModule:\n    pass\n</code></pre>"},{"location":"start/#creating-new-controller","title":"Creating new controller","text":"<p>Create a controller to handle the requests and responses.</p> <pre><code>nestipy g controller exemple\n</code></pre> <p><code>examples_controller.py</code></p> <pre><code>from nestipy.common.decorator import Controller, Get\n\n\n@Controller('exemples')\nclass ExempleController:\n\n    @Get()\n    async def get(self) -&gt; str:\n        return \"test\"\n</code></pre>"},{"location":"start/#creating-new-resolver","title":"Creating new resolver","text":"<p>Or for graphql , create a resolver.</p> <pre><code>nestipy g resolver exemple\n</code></pre> <p><code>examples_resolver.py</code></p> <pre><code>from strawberry.types import Info\nfrom nestipy.plugins.strawberry_module.decorator import Resolver, Query, Mutation\n\n\n@Resolver()\nclass ExempleResolver:\n\n    @Query()\n    def exemple_test_query(self, root: Info) -&gt; str:\n        return \"test\"\n\n    @Mutation()\n    def exemple_test_mutation(self, root: Info, test: str) -&gt; str:\n        return test\n</code></pre>"},{"location":"start/#creating-new-service","title":"Creating new service","text":"<p>Implement services to handle business logic.</p> <pre><code>nestipy g service exemple\n</code></pre> <p><code>examples_service.py</code></p> <pre><code>from nestipy.common.decorator import Injectable\n\n\n@Injectable()\nclass ExempleService:\n\n    async def test(self):\n        pass\n</code></pre> <p>Service is injectable inside a controller, resolver or other service by using Inject to inject it as a property of them. </p> <pre><code>service: ExempleService = Inject(ExempleService)\n</code></pre>"}]}